<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stream Player</title>
    <script src="//ssl.p.jwpcdn.com/player/v/8.21.0/jwplayer.js"></script>
    
    <script>
        jwplayer.key = 'XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo'; // Replace with your JW Player key

        // Function to change orientation
        function changeOrientation() {
            if (screen.orientation && screen.orientation.lock) {
                screen.orientation.lock('landscape').catch(function(error) {
                    console.error("Orientation lock failed: ", error);
                });
            }
        }

        // Handle fullscreen change event
        document.addEventListener('fullscreenchange', function() {
            if (document.fullscreenElement) {
                changeOrientation(); // Change orientation when entering fullscreen
            }
        });
    </script>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden; /* Prevents scroll bars */
            background-color : #111;
        }
        #player {
            width: 100%;
            height: auto; /* Adjust height to content */
            max-height: 100%; /* Prevent it from exceeding the viewport height */
        }
    </style>
</head>
<body>
    <div id="player"></div>
    <script src='https://content.jwplatform.com/libraries/KB5zFt7A.js'></script>
    

    <script>
        var playUrl = "https://streaming-orig-upg-vod-aha-axt-prod.mcdn.firstlight.ai/content/pubcontent/vol/5344E562-EE2A-4AD3-A93B-DD0BC4F42A95/1726232213215-output_cenc_dash.ism/index.mpd?python_pipeline_config=ttml_removal&suppress_query_parameters&filter=%28%28type%3D%3D%22video%22%26%26FourCC%3D%3D%22AVC1%22%26%26systemBitrate%3C%3D1500000%29%7C%7C%28type%3D%3D%22audio%22%26%26FourCC%3D%3D%22AACL%22%26%26systemBitrate%3C%3D100000%29%7C%7C%28type%3D%3D%22textstream%22%29%29"; // MPD video URL
        var licenseUrl = "https://widevine-proxy.api.aha.firstlight.ai/getlicense?service=aha&version=1.0&kid=5344E562-EE2A-4AD3-A93B-DD0BC4F42A95&ptoken=eyJjb250ZW50SWQiOiI1MzQ0RTU2Mi1FRTJBLTRBRDMtQTkzQi1ERDBCQzRGNDJBOTUiLCJsaWNlbnNlRXhwaXJ5VGltZSI6MTcyODI1ODg2MDc2OSwiZW50aXRsZWRDb250ZW50SWRzIjoiTlRNME5FVTFOakl0UlVVeVFTMDBRVVF6TFVFNU0wSXRSRVF3UWtNMFJqUXlRVGsxIiwibWF4VXNlcyI6MSwic2lnbmF0dXJlIjoiOTQxMjA1ODIzZjlmZDg5NTQwNmUyOWYwZDRmZmJhYzA5YTI1MDljYzQ4NTkxNDRjY2YwYjU2YzBhNzZkMTMxZCIsInVuaXF1ZUlkIjoiOTcwOWVkNjctZWNhNy00ODhhLTgxZjUtYTYxNGRmZTA5ZTQxIiwiaXNzdWVyIjoiU0lHTktFWV9QVE9LRU5fQ09OU1VNRV9JU1NVRVIiLCJhcGlLZXkiOiJhcGlLZXkiLCJrZXlWZXJzaW9uIjoidmVyczAxIiwiZXhwaXJ5VGltZSI6MTcyODIxNTcyMDc2OSwiY3JlYXRlZFRpbWUiOjE3MjgyMTU2NjA3NjksInRva2VuTW9kZWxWZXJzaW9uIjoiVjMifQ=="; // Example

        // var image_back = '<?php echo $image_src; ?>'; // Background image or thumbnail

        if (playUrl) {
            jwplayer("player").setup({
                playlist: [{
                    sources: [{
                        file: playUrl,
                        type: 'application/dash+xml', // Adjusted content type
                        drm: {
                            widevine: {
                                url: licenseUrl
                            }
                        },
                        default: true,
                    }]
                }],
                width: "100%",
                height: "100%",
                aspectratio: "16:9",
                controls: true,
                autostart: true,
            }).on('error', function(event) {
                console.error("Error occurred: ", event);
            });
        } else {
            document.getElementById('player').innerHTML = 'No video URL provided.';
        }

    </script>
</body>
</html>
